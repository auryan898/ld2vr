<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE>Ld2vr Instructions</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.0 (WinNT/Win95)">
	<META NAME="CREATED" CONTENT="19990224;20430283">
	<META NAME="CHANGEDBY" CONTENT="Jean-Pierre PARIS">
	<META NAME="CHANGED" CONTENT="19990322;21342904">
	<STYLE>
	<!--
		H1 { color: #000000 }
		TD P { color: #000000 }
		H2 { color: #000000 }
		P { color: #000000 }
		PRE { color: #000000 }
		A:link { color: #0055ff }
		A:visited { color: #ff0000 }
	-->
	</STYLE>
</HEAD>
<BODY TEXT="#000000" LINK="#0055ff" VLINK="#ff0000" BGCOLOR="#c0e0e0">
<H1 ALIGN=CENTER><FONT SIZE=6 STYLE="font-size: 28pt"><B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r
Instructions</FONT></B></FONT></H1>
<P>This file contains instructions to install and run both source and
compiled version of <FONT SIZE=3><B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r</FONT></B><FONT COLOR="#000000"><SPAN STYLE="font-weight: medium">.</SPAN></FONT></FONT></P>
<H1><FONT COLOR="#000080">Source version</FONT></H1>
<P ALIGN=LEFT>The source need version needs a Java Development Kit
(JDK). Several JDKs are located at <A HREF="http://java.sun.com/"><B>Sun</B></A>.
The versions I use are 1.1.3 and 1.2.2. I'm interested to know which
JDK's version compiles <FONT SIZE=3><B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r</FONT></B><FONT COLOR="#000000"><SPAN STYLE="font-weight: medium">
correctly. Please send me a mail about your tries! </SPAN></FONT></FONT>Once
a JRE or a JDK is installed, you can proceed.</P>
<P ALIGN=LEFT>The source version is distributed in a Zip archive
named Src<TT>.zip</TT>. I suppose that this file was unzipped in a
folder named <TT>MyInstallDir</TT> (in fact, the name is not
relevant). In <TT>MyInstallDir</TT>, you should find a single folder
named <TT>Ld2vr</TT>. Go in this folder to find several <TT>.java</TT>
files. The file Ld2vr.java is the main class of <FONT SIZE=3><B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r</FONT></B><FONT COLOR="#000000"><SPAN STYLE="font-weight: medium">.
Compiling </SPAN><B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT>r</B><SPAN STYLE="font-weight: medium">
is as simple as compiling Ld2vr.java. So, type <TT>javac Ld2vr.java</TT>
in a command shell and wait until the compiler finishes its job
(without errors, hopefully).</SPAN></FONT></FONT></P>
<P ALIGN=LEFT><SPAN STYLE="font-weight: medium"><FONT SIZE=3>In the
same folder, you must customize the Config.properties (<A HREF="#confProp">see
below</A>) file to reflect your own Ldraw and <B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT>r</B>
installation.</FONT></SPAN></P>
<P ALIGN=LEFT><SPAN STYLE="font-weight: medium"><FONT SIZE=3>You are
now ready to <A HREF="#run">run</A> <B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT>r</B><SPAN STYLE="font-weight: medium"><SPAN STYLE="font-style: normal">.</SPAN></SPAN></FONT></SPAN></P>
<H1><FONT COLOR="#000080">Compiled version</FONT></H1>
<P ALIGN=LEFT>The compiled need version needs at least a Java Runtime
Environment (JRE). A Java Development Kit (JDK) is ok too. Both
beasts are hidden somewhere at <A HREF="http://java.sun.com/"><B>Sun</B></A>.
The versions I use are 1.1.3 and 1.2.2. If you have problem finding
them, please ask me. I'll try to give you a more precise URL
up-to-date with the moving Java server. Once a JRE or a JDK is
installed, you can proceed.</P>
<P>The compiled version is distributed in a Zip archive named
<TT>Class.zip</TT>. I suppose that this file was unzipped in a folder
named <TT>MyInstallDir</TT> (in fact, the name is not relevant). In
<TT>MyInstallDir</TT>, you should find a single folder named <TT>Ld2vr</TT>.
Go in this folder to find several <TT>.class</TT> files. The file
Ld2vr.class is the main class of <FONT SIZE=3><B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r</FONT></B><FONT COLOR="#000000"><SPAN STYLE="font-weight: medium">.
In the same folder, you must customize the Config.properties file to
reflect your own Ldraw and <B><FONT SIZE=3><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r</FONT></FONT></B>
installation. </SPAN></FONT></FONT>
</P>
<P STYLE="font-weight: medium"><A NAME="confProp"></A><FONT SIZE=3>Here
is an example:</FONT></P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>
	<COL WIDTH=256*>
	<TR>
		<TD WIDTH=100% VALIGN=TOP BGCOLOR="#999999">
			<PRE>//**********************************************************
// ATTENTION: \ MUST be replaced by / in all directory names

// INSTALL_DIR must be updated if you move the LD2VR installation directory.
//**************************************************************************
// Where did you install LD2VR?
// More precisely, where does the Ld2vr.class file reside?

INSTALL_DIR=d:/Utilisateurs/jpp/PROJECTS/LD2VR

//*************************************
// Where is your Ldraw stuff installed?

LDRAW_DIR=d:/ldraw

//**************************************
// Where should I produce my VRML stuff?

WRL_OUTPUT_DIR=d:/Utilisateurs/jpp/PROJECTS/LD2VR/WRL</PRE>
		</TD>
	</TR>
</TABLE>
<P><BR><BR>
</P>
<P STYLE="font-weight: medium"><FONT SIZE=3>You have to edit the
value of the 3 variables INSTALL_DIR, LDRAW_DIR, and WRL_OUTPUT_DIR.
Typically you will get</FONT></P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>
	<COL WIDTH=256*>
	<TR>
		<TD WIDTH=100% VALIGN=TOP BGCOLOR="#999999">
			<PRE>//**********************************************************
// ATTENTION: \ MUST be replaced by / in all directory names

// INSTALL_DIR must be updated if you move the LD2VR installation directory.
//**************************************************************************
// Where did you install LD2VR?
// More precisely, where does the Ld2vr.class file reside?

INSTALL_DIR=MyInstallDir/LD2VR

//*************************************
// Where is your Ldraw stuff installed?

LDRAW_DIR=c:/ldraw

//**************************************
// Where should I produce my VRML stuff?

WRL_OUTPUT_DIR=MyInstallDir/LD2VR/WRL</PRE>
		</TD>
	</TR>
</TABLE>
<P><BR><BR>
</P>
<H2><FONT COLOR="#ff3366">Important notes</FONT></H2>
<OL>
	<LI><P STYLE="font-weight: medium"><FONT SIZE=3>I hope the comments
	in the file are easy to understand.</FONT></P>
	<LI><P STYLE="font-weight: medium"><FONT SIZE=3>But again, beware
	the / that replaces the \ in folder's names. </FONT>
	</P>
	<LI><P><SPAN STYLE="font-weight: medium"><FONT SIZE=3>Also note that
	WRL_OUTPUT_DIR is the WRL folder in <TT>MyInstallDir/LD2VR</TT>.
	This can be changed, but if you do, you must create the 6 following
	folders in WRL_OUTPUT_DIR: <TT>p</TT>, <TT>p_proto</TT>, <TT>parts</TT>,
	<TT>parts_proto</TT>, <TT>models</TT>, and <TT>models_proto</TT>.
	(Hey, Ldraw user, does it remind you something?)</FONT></SPAN></P>
</OL>
<P ALIGN=LEFT><SPAN STYLE="font-weight: medium"><FONT SIZE=3>You are
now ready to <A HREF="#run">run</A> <B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT>r</B><SPAN STYLE="font-style: normal">.</SPAN></FONT></SPAN></P>
<H1><A NAME="run"></A><FONT COLOR="#000080">Running</FONT> <B><FONT SIZE=6><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT><FONT COLOR="#000000">r</FONT></FONT></B></H1>
<P>In a command shell, go to <TT>MyInstallDir\LD2VR</TT> folder.
Provided the <TT>java</TT> command is in your path, type <TT>java
Ld2vr 3462.dat,</TT><SPAN STYLE="font-weight: medium"> and you should
see something like: </SPAN>
</P>
<PRE>Expanding p_3021
Expanding p_box5-
Expanding p_connect4
Expanding p_4-4cyli
Points: 0, Faces: 0, no color.</PRE>
<P>
When <B><FONT SIZE=3><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT>r</FONT></B>
terminates, you can find the VRML file 3642.wrl in the folder
WRL_OUTPUT_DIR/parts. If the dat file resides in the models folders,
the wrl file falls in the folder WRL_OUTPUT_DIR/models.</P>
<P>With the &#150;extern flag (<TT>java Ld2vr <SPAN STYLE="background: #ff3366">&#150;extern</SPAN>
3642.dat</TT>) the VRML code is split in several files (slighlty one
VRML file for each DAT file needed). The usable VRML file is at the
same location than previously and the other VRML files are produced
in the <SPAN STYLE="font-weight: medium"><FONT SIZE=3><TT>p_proto</TT>,
<TT>parts_proto</TT>, and <TT>models_proto</TT> folders. -extern is
useful to waste less disk space when generating a lot of parts. Its
major drawback is that the produced files are not self-contained. So,
you should be careful when putting such files on your WEB site.</FONT></SPAN></P>
<P><SPAN STYLE="font-weight: medium"><FONT SIZE=3>The other option
&#150;externTop (<TT>java Ld2vr <SPAN STYLE="background: #ff3366">&#150;externTop</SPAN>
3642.dat</TT>) tells <B><FONT COLOR="#ffff00">L</FONT><FONT COLOR="#ff0000">d</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#ffffff">v</FONT>r</B><SPAN STYLE="font-weight: medium"><SPAN STYLE="font-style: normal">
to produce the top-level VRML file and another file containing the
VRML PROTO of the part. Thus, if one wants to reuse one brick, the
VRML PROTO is ready in a separate file. To say it differently,
-externTop is like &#150;extern working only for the very first part
and not for subparts. </SPAN></SPAN></FONT></SPAN>
</P>
<P><SPAN STYLE="font-weight: medium">Yes, the color I choose is ugly.
But, it maps the color 16. So if you want to have a better color,
make a simple </SPAN><CODE><SPAN STYLE="font-weight: medium">.dat</SPAN></CODE><SPAN STYLE="font-weight: medium">
that sets the color of your brick. Or event better, use &#150;externTop
flag to generate the PROTO you want, and code the VRML file that load
it with the appropriate colors...</SPAN></P>
<HR>
<P><FONT SIZE=2>Last modified <SDFIELD TYPE=DOCINFO SUBTYPE=CHANGE FORMAT=DATE SDNUM="1036;1036;NN J MMM AA">lun 22 mar 99</SDFIELD>,<SDFIELD TYPE=DOCINFO SUBTYPE=CHANGE FORMAT=TIME SDNUM="1036;1036;HH:MM:SS">21:34:30</SDFIELD>
</FONT><A HREF="mailto:paris.jean-pierre@wanadoo.fr"><FONT SIZE=2>Jean-Pierre
Paris</FONT></A> 
</P>
</BODY>
</HTML>